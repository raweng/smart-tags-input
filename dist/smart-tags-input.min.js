!function t(i,e,n){function s(r,a){if(!e[r]){if(!i[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var p=e[r]={exports:{}};i[r][0].call(p.exports,function(t){var e=i[r][1][t];return s(e?e:t)},p,p.exports,t,i,e,n)}return e[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t){window.SmartTagsInput=t("./index.js")},{"./index.js":2}],2:[function(t,i){var e=function(t){this.obj=t,this.innerWrapper=null,this.inputElem=null,this.div=null,this.options={startLimit:"{{",endLimit:"}}",isInputTag:!0,inputType:"text",onChange:function(){},onFocus:function(){},value:""},this.init=function(t){if(t=t||{},i.call(this,t),"string"==typeof this.obj)var n=document.getElementById(this.obj);else{if(!(this.obj instanceof Element))throw new Error("contructor should be initialized with element id or the element itself.");var n=this.obj}if(n){var s=document.createElement("div");s.className="tags-input-wrapper",n.appendChild(s),this.innerWrapper=s;var o=document.createElement("textarea");if(this.options.isInputTag?(o=document.createElement("input"),o.type=this.options.inputType):s.className="tags-input-wrapper tags-textarea-wrapper",o.className="tags-input-textbox tags-input",o.value=this.options.value,o.autofocus=!0,this.inputElem=o,s.appendChild(this.inputElem),!this.options.isInputTag||this.options.isInputTag&&"text"===this.options.inputType){var r=document.createElement("div");r.className="tags-input-div tags-input",this.div=r,s.appendChild(r)}a.call(this),e.call(this)}};var i=function(t){for(key in this.options)this.options[key]=t[key]===!1?!1:t[key]||this.options[key]},e=function(){this.inputElem.addEventListener("blur",s.bind(this)),this.inputElem.addEventListener("input",this.options.onChange),this.inputElem.addEventListener("focus",n.bind(this)),this.inputElem.addEventListener("keydown",o.bind(this)),this.inputElem.addEventListener("keyup",r.bind(this))},n=function(t){this.div&&(this.div.style.opacity="0",this.inputElem.style.opacity="1"),this.options.onFocus(t)},s=function(t){this.div&&(u.call(this,t.currentTarget.value),t.currentTarget.style.opacity="0",this.div.style.opacity="1")},o=function(t){if(8===t.keyCode||46===t.keyCode){var i=this.inputElem.value,e=this.inputElem.selectionEnd,n=this.inputElem.selectionStart,s=new RegExp(this.options.startLimit+"(.*?)"+this.options.endLimit,"g"),o=i.match(s);if(o){t.preventDefault();var r=i;e===n?8===t.keyCode?0!==n&&(r=l.call(this,o,i,n-1,n-1)):e!==i.length&&(r=l.call(this,o,i,e,e)):r=e>n?l.call(this,o,i,n,e-1):l.call(this,o,i,e,n-1),this.inputElem.value=r.newValue,this.setCursorPosition(r.cursorPosition),p(this.inputElem,"input")}}},r=function(){a.call(this)},a=function(){var t=this.inputElem;t.style.height="auto";var i=t.scrollHeight,e=window.getComputedStyle(t),n=e.getPropertyValue("padding-top"),s=Number(n.substr(0,n.length-2)),o=e.getPropertyValue("padding-bottom"),r=Number(o.substr(0,o.length-2)),a=i-s-r;t.style.height=a+"px",this.innerWrapper.style.height=a+"px"},l=function(t,i,e,n){var s=e,o=n+1,r=0,a=new RegExp("^"+this.options.startLimit),l=new RegExp(this.options.endLimit+"$");for(key in t){var u=t[key].length,p=i.indexOf(t[key],r),h=t[key].replace(a,"").replace(l,"").length,c=i.indexOf(t[key].replace(a,"").replace(l,""),r);r=p+u,e>=c&&c+h-1>=e&&n>=c&&c+h-1>=n||(e>=p&&p+u-1>=e&&(s=p),n>=p&&p+u-1>=n&&(o=p+u))}var d=i.slice(0,s)+i.slice(o,i.length);return{newValue:d,cursorPosition:s}},u=function(t){var i=new RegExp(this.options.startLimit+"(.*?)"+this.options.endLimit,"g"),e=t.match(i);if(e){var n=this;e.map(function(i){var e=i.replace(n.options.startLimit,"<span>").replace(n.options.endLimit,"</span>");t=t.replace(i,e)})}this.div.innerHTML=t},p=function(t,i){if("createEvent"in document){var e=document.createEvent("HTMLEvents");e.initEvent(i,!1,!0),t.dispatchEvent(e)}else t.fireEvent(i)};this.setCursorPosition=function(t){this.inputElem.selectionStart=t,this.inputElem.selectionEnd=t},this.insertValueAt=function(t){var i=this.inputElem.value,e=this.inputElem.selectionEnd,n=i.slice(0,e)+t+i.slice(e);this.inputElem.value=n,this.div&&u.call(this,n),p(this.inputElem,"input")},this.setValue=function(t){this.inputElem.value=t,this.div&&u.call(this,t)}};i.exports=e},{}]},{},[1]);